<<<<<<< HEAD
﻿@using CoreWiki.Configuration.Settings
@using Microsoft.AspNetCore.Authorization
=======
﻿@using Data.Models
@using Microsoft.AspNetCore.Authorization
@using CoreWiki.Areas.Identity
>>>>>>> upstream/master
@model DetailsModel
@inject IOptionsSnapshot<AppSettings> settings
@inject IAuthorizationService AuthorizationService

@if (settings.Value.Comments.IsEngineLocal)
{

<<<<<<< HEAD
	if ((await AuthorizationService.AuthorizeAsync(User, null, PolicyConstants.CanCreateComments)).Succeeded) {
		@await Component.InvokeAsync("CreateComments", new Comment { ArticleId = Model.Article.Id })
=======
	@if ((await AuthorizationService.AuthorizeAsync(User, null, PolicyConstants.CanCreateComments)).Succeeded) {
		@await Component.InvokeAsync("CreateComments", new Comment { IdArticle = Model.Article.Id })
>>>>>>> upstream/master
	}

	@await Component.InvokeAsync("ListComments", @Model.Article.Comments)

}
else
{
	<partial name="_DisqusComments" model="settings.Value.Comments.Disqus.ShortName" />
}
<<<<<<< HEAD
=======

>>>>>>> upstream/master
